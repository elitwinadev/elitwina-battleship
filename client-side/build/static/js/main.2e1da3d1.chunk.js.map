{"version":3,"sources":["logic/logic.js","assests/sounds/sinkSound.wav","assests/sounds/missSound.wav","assests/sounds/hitSound.wav","assests/sounds/errorSound.wav","assests/sounds/clickSound.wav","assests/sounds/yourTurnSound.wav","assests/sounds/notYourTurnSound.wav","stateManager/stateManager.js","sockets/socket-client-side.js","styles/Mixins.js","styles/GlobalStyles.js","view/MsgModal.jsx","assests/images/logo.jpg","view/TopBar.jsx","view/FadeoutStatus.jsx","view/Input.jsx","view/UserPixel.jsx","view/UserGrid.jsx","view/OpponentPixel.jsx","view/OpponentGrid.jsx","view/App.jsx","index.js"],"names":["random","max","min","Math","floor","aroundSinkUpdate","board","x","y","newBoard","length","value","MISS","SHIP_PART","AROUND_SINK","aroundShipBoardUpdate","ship","newValue","updater","AROUND_SHIP","aroundShip","aroundShipUpdate","startX","shipParts","startY","endX","endY","i","j","hitBoardUpdate","shipIndex","ships","newShips","partIndex","findIndex","part","isHit","isShipSunk","every","shipPart","isSunk","isWin","loopX","loopY","missBoardUpdate","initialGameBoard","push","SEA","socket","io","process","BsContext","createContext","Provider","HORIZONTAL","VERTICAL","RUSSIAN","FRENCH","HIT","SINK","playSound","event","playSounds","SOUND","sinkSound","missSound","hitSound","errorSound","yourTurnSound","notYourTurnSound","clickSound","Audio","play","StateManager","children","useState","nanoid","playerRoom","setPlayerRoom","bothPlayersConnected","setBothPlayersConnected","playerBoard","setPlayerBoard","otherPlayerBoard","setOtherPlayerBoard","playerShips","setPlayerShips","otherPlayerShips","setOtherPlayerShips","isFirstTurn","setIsFirstTurn","randomBoard","setRandomBoard","isPlayerReady","setIsPlayerReady","bothPlayersReady","setBothPlayersReady","noteStatus","setNoteStatus","gameStatus","setGameStatus","userPrecents","setUserPrecents","opponentPrecents","setOpponentPrecents","playerGuess","setPlayerGuess","otherPlayerGuess","setOtherPlayerGuess","playerMessage","setPlayerMessage","otherPlayerMessage","setOtherPlayerMessage","chatMessages","setChatMessages","playerId","setPlayerId","lockOtherPlayerBoard","setLockOtherPlayerBoard","winning","setWinning","gameOverMsg","setGameOverMsg","showModal","setShowModal","otherPlayerReady","setOtherPlayerReady","showReadyBox","setShowReadyBox","isConnected","setIsConnected","showStartButton","setShowStartButton","isGameStarted","setIsGameStarted","playAgain","setPlayAgain","usersCounter","setUsersCounter","isLeave","setIsLeave","playAgainMsg","setPlayAgainMsg","mouseX","setMouseX","mouseY","setMouseY","isMyTurn","setIsMyTurn","setPlaySounds","useEffect","forEach","index","needsPlacing","directionalAdder","limited","unlimited","num","direction","shipPartX","shipPartY","re_placeShips","newShipPart","placeShips","gameType","shipNames","shipCreator","name","pop","initialShips","state","action","ws_connection","Sockets","useContext","ready","emit","room","turn","to_player","console","log","local_turn","round","guess","message","is_winning","on","data","location","href","window","origin","other_player_connected","ready_to_start","leave","users_count","wanna_play_again","prev","msg","id","play_again_emit","flex","align_dir","justify_dir","position","pos","top","buttom","right","left","cool_shining_green","flashAnimation","keyframes","flash","GlobalStyles","createGlobalStyle","StandardPixel","styled","div","Button","RegularSquare","OpponentSquare","MissHit","props","isAnimated","css","AroundSink","ShipHit","ShipSink","ShipPart","GridWrapper","PlayerGrid","OtherPlayerGrid","GridHeaders","span","LittleWrapper","LettersBar","NumbersBar","BarPixel","Modal","okRef","useRef","setTimeout","current","focus","ModalWrapper","Dialog","style","fontSize","ref","onClick","TopBar","navigator","vibrate","TopBarWrapper","SoundsToggle","LogoWrapper","Logo","src","alt","TopBarHeader","TurnHolder","TurnText","Flash","paddingLeft","type","color","height","width","img","h1","FadeoutStatus","StatusBox","Animated","fadeoutAnimation","fadeOut","startGame","gameId","match","params","Input","history","useHistory","roomId","setRoomId","waiting","setWaiting","randomBoardClick","InputWrapper","connected","GameOver","PlayAgainButton","error","reload","MiniWrapper","StaticStatus","margin","UrlHolder","CopyButton","screenX","screenY","clipboard","writeText","then","preventDefault","ButtonsWrapper","FacebookShareButton","url","FacebookIcon","size","marginTop","FacebookMessengerShareButton","FacebookMessengerIcon","WhatsappShareButton","WhatsappIcon","path","component","form","button","UserPixel","status","lock","setIsAnimated","alreadyPlayed","setAlreadyPlayed","is_lock","UserGrid","lockShipsPosition","setLockShipsPosition","pixelStatus","pixel","result","updated","UserGridWrapper","bgcolor","labelColor","completed","labelSize","map","letter","xArr","Xindex","yArr","Yindex","OpponentPixel","clickhandler","OpponentGrid","lockedPixels","setLockedPixels","isItemLocked","item","inspectHit","sunk","lockPixel","stopPropagation","OpponentGridWrapper","App","test","HTMLElement","safari","pushNotification","toString","Box","AppWrapper","zIndex","GameWrapper","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.2e1da3d1.chunk.js","sourcesContent":["import { VERTICAL, HORIZONTAL, RUSSIAN, FRENCH, SEA, MISS, HIT, AROUND_SINK, SHIP_PART, AROUND_SHIP } from \"../stateManager/stateManager\";\nconst random = (max, min = 0) => Math.floor(Math.random() * (max - min + 1)) + min;\nconst randomBoolean = () => Math.random() < 0.5;\n//updates a square on the board after a ship part was hit or sunk\nconst aroundSinkUpdate = (board, x, y) => {\n    const newBoard = [...board];\n    if (x >= 0 && y >= 0 && x <= newBoard.length - 1 && y <= newBoard.length - 1) {//!= undefined\n        if (newBoard[x][y].value !== MISS && newBoard[x][y].value !== SHIP_PART) { //we want to keep miss visual, also not to change a sunken ship to a aroung sink bc of how loop works\n            newBoard[x][y].value = AROUND_SINK;\n        }\n    }\n    return newBoard;\n};\n//updates a square as one that is on the border of a ship, for placement purposes\nconst aroundShipUpdate = (board, x, y) => {\n    const newBoard = [...board];\n    if (x >= 0 && y >= 0 && x <= newBoard.length - 1 && y <= newBoard.length - 1) {//!= undefined\n        if (newBoard[x][y].value !== SHIP_PART) { //making sure we aren't changing the value of a ship part to be an around ship bc of how loop works\n            newBoard[x][y].aroundShip = true;\n        }\n    }\n    return newBoard;\n}\n//used to update all the squares around a ship for placement and sinking\nconst aroundShipBoardUpdate = (board, ship, newValue) => {\n    let newBoard = [...board];\n    const updater = (x, y) => {// used to update the relevant value in the same line, since both need to be around the entire ship\n        if (newValue === AROUND_SINK) {//when ship is sunk\n            newBoard = aroundSinkUpdate(board, x, y);\n        }\n        else if (newValue === AROUND_SHIP) {//when ship is placed so no ships will be placed 1 square around it\n            newBoard = aroundShipUpdate(board, x, y);\n        }\n    }\n    const startX = ship.shipParts[0].x - 1;// using the diagonal top left and bootom right squares to the ship\n    const startY = ship.shipParts[0].y - 1;// allows to iterate over all the surounding squares of a ship\n    const endX = ship.shipParts[ship.length - 1].x + 1;\n    const endY = ship.shipParts[ship.length - 1].y + 1;\n    for (let i = startX; i <= endX; i++) {\n        for (let j = startY; j <= endY; j++) {\n            updater(i, j);// iteration over all surounding squares\n        }\n    }\n    return newBoard\n}\n// used when a turn is used to attack to get the result of the attack attempt\nexport const inspectHit = (board, x, y) => {\n    if (board[x][y].value === SHIP_PART) {\n        return HIT;\n    }\n    return MISS;\n}\n// activated when inspect_hit's result is HIT\nexport const hitBoardUpdate = (x, y, shipIndex, board, ships) => {\n    let newShips = [...ships];\n    let newBoard = [...board];\n    const partIndex = newShips[shipIndex].shipParts.findIndex((part) => part.x === x && part.y === y);\n    newShips[shipIndex].shipParts[partIndex].isHit = true; // updating the ship part in the ships array as hit\n    newBoard[x][y].isHit = true; // updating the ship part on the board as hit\n\n    const isShipSunk = newShips[shipIndex].shipParts.every((shipPart) => shipPart.isHit);//checking if all parts of the ship are hit\n\n    if (isShipSunk) {\n        newShips[shipIndex].isSunk = isShipSunk; // updating the ship in the ships array as sunk\n        newBoard = aroundShipBoardUpdate(newBoard, newShips[shipIndex], AROUND_SINK); // updating the board around the ship as sunk\n    }\n    const isWin = newShips.every((ship) => ship.isSunk); // checking if all ships are sunk\n\n    for (let loopX = (x - 1); loopX <= x + 1; loopX++) {\n        for (let loopY = (y - 1); loopY <= y + 1; loopY++) {\n            if ((loopX + loopY) % 2 === (x + y) % 2) {      // this condition allows us to adress only squares diagonal to the square in [x][y]\n                newBoard = aroundSinkUpdate(newBoard, (loopX), (loopY)); // updating diagonal squares to not reveal the ship's direction\n            }\n        }\n    }\n    return { board: newBoard, ships: newShips, isWin };\n}\n//used when inspect_hit's result is MISS\nexport const missBoardUpdate = (board, x, y) => {\n    const newBoard = [...board];\n    newBoard[x][y].value = MISS;\n    return newBoard;\n}\n// used at the start of the game to place the ships of the board randomly.\nexport const placeShips = (board, ships) => {\n    let newBoard = [...board];\n    let newShips = [...ships];\n    newShips.forEach((ship, index) => { // iterates over every ship until it is placed\n        let needsPlacing = true;\n        const directionalAdder = (limited, unlimited, num) => {// will be used to adress both vertical and horizontal facing ships in the same placement\n            if (ship.direction === VERTICAL) {\n                return { shipPartX: limited + num, shipPartY: unlimited }\n            }\n            if (ship.direction === HORIZONTAL) {\n                return { shipPartX: unlimited, shipPartY: limited + num }\n            }\n        }\n\n        re_placeShips: while (needsPlacing) { // looks for a place for the ship until it finds it\n            let unlimited = random(9);              //generation of a random number not limited by the ships length\n            let limited = random(9 - ship.length);  //generation of a random number limited by the ships length so as not to place a ship out of bounds\n\n            for (let i = 0; i < ship.length; i++) { // iterates over the generated place for the ship to check if its viable\n                let { shipPartX } = directionalAdder(limited, unlimited, i);// activation of the adder that adds a value to the direction that we need to iterate over\n                let { shipPartY } = directionalAdder(limited, unlimited, i);\n                if (newBoard[shipPartX][shipPartY].aroundShip !== false) {\n                    continue re_placeShips; // if is not viable, restarts the while loop and finds othe random spot on board\n                }\n            }\n            for (let i = 0; i < ship.length; i++) { // actualy placing the ship\n                let { shipPartX } = directionalAdder(limited, unlimited, i);\n                let { shipPartY } = directionalAdder(limited, unlimited, i);\n                const newShipPart = {\n                    shipIndex: index,\n                    x: shipPartX,\n                    y: shipPartY,\n                    isHit: false,\n                    value: SHIP_PART\n                }\n                ship.shipParts.push(newShipPart); // updating the ships array\n                newBoard[shipPartX][shipPartY] = newShipPart; // updating the board\n            }\n            newBoard = aroundShipBoardUpdate(newBoard, ship, AROUND_SHIP); // updating around the ship to not place other ships there\n            needsPlacing = false;\n        }\n    });\n\n    return { board: newBoard, ships: newShips };\n}\n// creates an empty board for placement\nexport const initialGameBoard = (board = [[], [], [], [], [], [], [], [], [], []]) => {\n    const newBoard = [...board]\n    for (let i = 0; i < 10; i++) {\n        for (let j = 0; j < 10; j++) {\n            newBoard[j].push({\n                x: j,\n                y: i,\n                value: SEA,\n                aroundShip: false\n            })\n        }\n    }\n    return newBoard;\n}\n// creates the ships structure without any parts in it\nexport const initialShips = (gameType = RUSSIAN) => {\n    const shipNames = ['S10', 'S9', 'S8', 'S7', 'S6', 'S5', 'S4', 'S3', 'S2', 'S1'];//names of the ships in reverse order of giving them\n    const ships = [];//the soon to be returned ships array\n    const shipCreator = (length, name = shipNames.pop()) => { // default name is the last object of the mane array\n        return {\n            name,\n            length,\n            shipParts: [],\n            direction: randomBoolean() ? VERTICAL : HORIZONTAL,\n            isSunk: false\n        }\n    }\n    if (gameType === FRENCH) {\n        ships.push(shipCreator(5)); // the ships unique to french var\n    }\n    ships.push(shipCreator(4)); // the ships that are overlapping with both variations\n    ships.push(shipCreator(3));\n    ships.push(shipCreator(3));\n    ships.push(shipCreator(2));\n\n    if (gameType === RUSSIAN) { // the ships unique to russian var\n        ships.push(shipCreator(2));\n        ships.push(shipCreator(2));\n        for (let i = 0; i < 4; i++) {\n            ships.push(shipCreator(1));\n        }\n    }\n    return ships;\n}","export default __webpack_public_path__ + \"static/media/sinkSound.c24c2b8c.wav\";","export default __webpack_public_path__ + \"static/media/missSound.62176d6a.wav\";","export default __webpack_public_path__ + \"static/media/hitSound.2604a56c.wav\";","export default __webpack_public_path__ + \"static/media/errorSound.678c6c3f.wav\";","export default __webpack_public_path__ + \"static/media/clickSound.0ff4ea85.wav\";","export default __webpack_public_path__ + \"static/media/yourTurnSound.ecd48317.wav\";","export default __webpack_public_path__ + \"static/media/notYourTurnSound.d5d8ec22.wav\";","import React, { createContext, useState, useEffect } from \"react\";\nimport { placeShips, initialGameBoard, initialShips } from \"../logic/logic\";\nimport io from \"socket.io-client\";\nimport { nanoid } from \"nanoid\";\n\nimport sinkSound from \"../assests/sounds/sinkSound.wav\";\nimport missSound from \"../assests/sounds/missSound.wav\";\nimport hitSound from \"../assests/sounds/hitSound.wav\";\nimport errorSound from \"../assests/sounds/errorSound.wav\";\nimport clickSound from \"../assests/sounds/clickSound.wav\";\nimport yourTurnSound from \"../assests/sounds/yourTurnSound.wav\";\nimport notYourTurnSound from \"../assests/sounds/notYourTurnSound.wav\";\n\nconst { REACT_APP_SERVER_URL } = process.env;\nexport const socket = io(REACT_APP_SERVER_URL);\nconst BsContext = createContext(socket);\nconst { Provider } = BsContext;\n\nexport const HORIZONTAL = \"horizontal\";\nexport const VERTICAL = \"vertical\";\nexport const RUSSIAN = \"RUSSIAN\";\nexport const FRENCH = \"FRENCH\";\nexport const MISS = \"MISS\";\nexport const HIT = \"HIT\";\nexport const SEA = \"SEA\";\nexport const SINK = \"SINK\";\nexport const SHIP_PART = \"SHIP_PART\";\nexport const AROUND_SHIP = \"AROUND_SHIP\";\nexport const AROUND_SINK = \"AROUND_SINK\";\n\nvar audio;\nexport const playSound = (event, playSounds) => {\n  if (playSounds) {\n    let SOUND;\n    switch (event) {\n      case \"SINK\":\n        SOUND = sinkSound;\n        break;\n      case \"MISS\":\n        SOUND = missSound;\n        break;\n      case \"HIT\":\n        SOUND = hitSound;\n        break;\n      case \"ERROR\":\n        SOUND = errorSound;\n        break;\n      case \"YOURTURN\":\n        SOUND = yourTurnSound;\n        break;\n      case \"NOTYOURTURN\":\n        SOUND = notYourTurnSound;\n        break;\n      default:\n        SOUND = clickSound;\n    }\n    audio = new Audio(SOUND);\n    audio.play();\n  }\n};\n\nconst StateManager = ({ children }) => {\n  const [playerRoom, setPlayerRoom] = useState(nanoid(4));\n  const [bothPlayersConnected, setBothPlayersConnected] = useState(null);\n  const [playerBoard, setPlayerBoard] = useState([]);\n  const [otherPlayerBoard, setOtherPlayerBoard] = useState(initialGameBoard());\n  const [playerShips, setPlayerShips] = useState(null);\n  const [otherPlayerShips, setOtherPlayerShips] = useState();\n  const [isFirstTurn, setIsFirstTurn] = useState(null);\n  const [randomBoard, setRandomBoard] = useState(false);\n  const [isPlayerReady, setIsPlayerReady] = useState(false);\n  const [bothPlayersReady, setBothPlayersReady] = useState(false);\n  const [noteStatus, setNoteStatus] = useState();\n  const [gameStatus, setGameStatus] = useState(\"Welcome\");\n  const [userPrecents, setUserPrecents] = useState(0);\n  const [opponentPrecents, setOpponentPrecents] = useState(0);\n  const [playerGuess, setPlayerGuess] = useState(null);\n  const [otherPlayerGuess, setOtherPlayerGuess] = useState(null);\n  const [playerMessage, setPlayerMessage] = useState([]);\n  const [otherPlayerMessage, setOtherPlayerMessage] = useState([]);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [playerId, setPlayerId] = useState(nanoid(5));\n  const [lockOtherPlayerBoard, setLockOtherPlayerBoard] = useState(true);\n  const [winning, setWinning] = useState(null);\n  const [gameOverMsg, setGameOverMsg] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [otherPlayerReady, setOtherPlayerReady] = useState(false);\n  const [showReadyBox, setShowReadyBox] = useState(false);\n  const [isConnected, setIsConnected] = useState(false);\n  const [showStartButton, setShowStartButton] = useState(true);\n  const [isGameStarted, setIsGameStarted] = useState(false);\n  const [playAgain, setPlayAgain] = useState(false);\n  const [usersCounter, setUsersCounter] = useState(1);\n  const [isLeave, setIsLeave] = useState(false);\n  const [playAgainMsg, setPlayAgainMsg] = useState(false);\n  const [mouseX, setMouseX] = useState(0);\n  const [mouseY, setMouseY] = useState(0);\n  const [isMyTurn, setIsMyTurn] = useState(false);\n  const [playSounds, setPlaySounds] = useState(true);\n\n  useEffect(() => {\n    let { board, ships } = placeShips(initialGameBoard(), initialShips());\n    setPlayerShips(ships);\n    setPlayerBoard(board);\n  }, [randomBoard]);\n\n  const state = {\n    playerRoom,\n    bothPlayersConnected,\n    playerBoard,\n    otherPlayerBoard,\n    playerShips,\n    otherPlayerShips,\n    isFirstTurn,\n    randomBoard,\n    isPlayerReady,\n    bothPlayersReady,\n    noteStatus,\n    gameStatus,\n    userPrecents,\n    opponentPrecents,\n    playerGuess,\n    otherPlayerGuess,\n    playerMessage,\n    otherPlayerMessage,\n    chatMessages,\n    playerId,\n    lockOtherPlayerBoard,\n    winning,\n    gameOverMsg,\n    showModal,\n    otherPlayerReady,\n    showReadyBox,\n    isConnected,\n    showStartButton,\n    isGameStarted,\n    playAgain,\n    usersCounter,\n    isLeave,\n    mouseX,\n    mouseY,\n    isMyTurn,\n    playSounds,\n    playAgainMsg,\n  };\n\n  const action = {\n    setPlayerRoom,\n    setBothPlayersConnected,\n    setPlayerBoard,\n    setOtherPlayerBoard,\n    setPlayerShips,\n    setOtherPlayerShips,\n    setIsFirstTurn,\n    setRandomBoard,\n    setIsPlayerReady,\n    setBothPlayersReady,\n    setNoteStatus,\n    setGameStatus,\n    setUserPrecents,\n    setOpponentPrecents,\n    setPlayerGuess,\n    setOtherPlayerGuess,\n    setPlayerMessage,\n    setOtherPlayerMessage,\n    setChatMessages,\n    setPlayerId,\n    setLockOtherPlayerBoard,\n    setWinning,\n    setGameOverMsg,\n    setShowModal,\n    setOtherPlayerReady,\n    setShowReadyBox,\n    setIsConnected,\n    setShowStartButton,\n    setIsGameStarted,\n    setPlayAgain,\n    setUsersCounter,\n    setIsLeave,\n    setMouseX,\n    setMouseY,\n    setIsMyTurn,\n    setPlaySounds,\n    setPlayAgainMsg,\n  };\n\n  const ws_connection = {\n    socket,\n  };\n\n  return (\n    <Provider value={{ ...state, ...action, ...ws_connection }}>\n      {children}\n    </Provider>\n  );\n};\n\nexport { BsContext, StateManager };\n","import React, { useContext, useEffect } from \"react\";\nimport { BsContext } from \"../stateManager/stateManager\";\nconst Sockets = () => {\n  const {\n    socket,\n    playerRoom,\n    setBothPlayersConnected,\n    playerBoard,\n    setOtherPlayerBoard,\n    playerShips,\n    setOtherPlayerShips,\n    isFirstTurn,\n    setIsFirstTurn,\n    isPlayerReady,\n    playerGuess,\n    setOtherPlayerGuess,\n    playerMessage,\n    setOtherPlayerMessage,\n    chatMessages,\n    setChatMessages,\n    winning,\n    setWinning,\n    setShowModal,\n    setOtherPlayerReady,\n    setUsersCounter,\n    playAgain,\n    setPlayAgain,\n    setIsLeave,\n    setPlayAgainMsg,\n  } = useContext(BsContext);\n\n  const randomize = (min, max) => Math.round(min + Math.random() * (max - min));\n\n  const chat_message = \"chat_message\";\n  const play = \"play\";\n  const ready = \"ready\";\n  // ----------------------------------------emiting---------------------------------------\n\n  // joining a room (clicking \"start\" button)\n  useEffect(() => {\n    socket.emit(\"data\", { room: playerRoom, action: play });\n  }, [playerRoom]);\n\n  // ready to play (clicking \"ready\" button)\n  useEffect(() => {\n    if (isFirstTurn !== null) {\n      socket.emit(\"data\", {\n        room: playerRoom,\n        action: ready,\n        board: playerBoard,\n        ships: playerShips,\n        turn: !isFirstTurn,\n        to_player: \"1\",\n      });\n      console.log(\"this is player 2\");\n      console.log(\"player 2 emiting...\");\n    } else {\n      let local_turn;\n      const turn_generator = randomize(0, 1);\n      turn_generator === 0 ? (local_turn = true) : (local_turn = false);\n      socket.emit(\"data\", {\n        room: playerRoom,\n        action: ready,\n        board: playerBoard,\n        ships: playerShips,\n        turn: !local_turn,\n        to_player: \"2\",\n      });\n      if (playerRoom) {\n        setIsFirstTurn(local_turn);\n      }\n      console.log(\"this is player 1\");\n      console.log(\"player 1 turn is \" + local_turn);\n      console.log(\"player 1 emiting...\");\n    }\n  }, [isPlayerReady]);\n\n  // guessing (clicking on the opponents board)\n  useEffect(() => {\n    socket.emit(\"data\", { room: playerRoom, guess: playerGuess });\n  }, [playerGuess]);\n\n  // send a message (using the chat)\n  useEffect(() => {\n    socket.emit(\"data\", {\n      room: playerRoom,\n      action: chat_message,\n      message: chatMessages[chatMessages.length - 1],\n    });\n  }, [playerMessage]);\n\n  // winning\n  useEffect(() => {\n    if (winning === true) {\n      socket.emit(\"data\", { room: playerRoom, is_winning: true });\n    }\n  }, [winning]);\n\n  // ---------------------------------------listening---------------------------------------\n\n  useEffect(() => {\n    socket.on(\"data\", (data = {}) => {\n      if (data === \"REFRESH\") {\n        location.href = window.location.origin;\n      }\n      const {\n        other_player_connected,\n        turn,\n        board,\n        ships,\n        ready_to_start,\n        to_player,\n        guess,\n        message,\n        is_winning,\n        leave,\n        users_count,\n        wanna_play_again,\n      } = data;\n      if (users_count) setUsersCounter(users_count);\n      if (wanna_play_again) setPlayAgainMsg(true);\n      if (other_player_connected) {\n        setBothPlayersConnected(true);\n      } else if (to_player === \"2\") {\n        setOtherPlayerBoard(board);\n        setOtherPlayerShips(ships);\n        setIsFirstTurn(turn);\n        console.log(\"does player2 starts?: \" + turn);\n        console.log(\"TOPLAYER2: \", data);\n      } else if (to_player === \"1\") {\n        setOtherPlayerReady(true);\n        setOtherPlayerBoard(board);\n        setOtherPlayerShips(ships);\n        setIsFirstTurn(turn);\n        console.log(\"player's 2 data recived by player 1\");\n        console.log(\"does player1 starts?: \" + turn);\n      } else if (guess) {\n        setOtherPlayerGuess(guess);\n      } else if (message) {\n        console.log(\"I got message!\");\n        setOtherPlayerMessage((prev) => [...prev, message.msg]);\n        setChatMessages((prev) => [\n          ...prev,\n          {\n            id: message.id,\n            msg: message.msg,\n          },\n        ]);\n      } else if (is_winning) {\n        setWinning(!is_winning);\n      } else if (leave) {\n        setIsLeave(true);\n        setShowModal(true);\n      }\n    });\n  }, []);\n  //--------------- Play again ------------------------\n  useEffect(() => {\n    if (playAgain) {\n      socket.emit(\"data\", { play_again_emit: true, room: playerRoom });\n      setPlayAgain(false);\n    }\n  }, [playAgain]);\n  return <div></div>;\n};\n\nexport default Sockets;\n","// general mixins\nexport const flex = (align_dir = `center`, justify_dir = `center`) => {\n    return `display: flex;\n              ${align_dir ? `align-items: ${align_dir}` : ``};\n              ${justify_dir ? `justify-content: ${justify_dir}` : ``};`;\n  };\n  \n  export const position = (pos, top, buttom, right, left) => {\n    return `position: ${pos};\n              ${top ? `top: ${top}` : ``};\n              ${buttom ? `buttom: ${buttom}` : ``};\n              ${right ? `right: ${right}` : ``};\n              ${left ? `left: ${left}` : ``};`;\n  };\n  \n  export const cool_shining_green = () => {\n    return `-webkit-box-shadow: 2px 3px 16px 5px rgba(0,255,65,0.75); \n              box-shadow: 2px 3px 16px 5px rgba(0,255,65,0.75);`;\n  };\n  ","import { createGlobalStyle } from \"styled-components\";\nimport styled, { keyframes, css } from \"styled-components\";\nimport { flash } from \"react-animations\";\nimport { flex, cool_shining_green } from \"../styles/Mixins\";\nconst flashAnimation = keyframes`${flash}`;\nconst GlobalStyles = createGlobalStyle`\n  html,\n  body {\n    background: #000000;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    zoom: 120%;\n    @media only screen and (min-width: 600px) {\n      {zoom: 85%}\n    }\n  \n  body {\n    ${flex()};\n    font-family: 'Rajdhani', sans-serif;\n    color: white;\n    font-size: 25px;\n    }\n\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n      -webkit-user-select: none\n      -ms-user-select: none;\n      user-select: none;\n    }\n`;\n\nexport default GlobalStyles;\n\n// general:\n\nexport const StandardPixel = styled.div`\n  ${flex()};\n  width: 10%;\n  height: 10%;\n`;\n\n// input component:\n\nexport const Button = styled.div`\n  ${flex()};\n  width: 15vw;\n  padding: 0.5vw;\n  height: 4.5vw;\n  border: 1px solid #00ff41;\n  border-radius: 3rem;\n  color: white;\n  background: #003b00;\n  font-size: 2.5vw;\n  font-weight: 400;\n  margin: 2%;\n  box-shadow: inset 0 0.1rem 1.5rem lightgrey;\n  cursor: pointer;\n\n  &:focus {\n    background: red;\n  }\n  &:hover {\n    ${cool_shining_green};\n    background: #1aff1a;\n    color: black;\n  }\n  @media only screen and (max-width: 600px) {\n    height: 5.5vw;\n    width: 20vw;\n  }\n`;\n\n// UserPixel + OpponentPixel components:\n\nexport const RegularSquare = styled(StandardPixel)`\n  border: 0.1vw solid #00ff41;\n`;\n\nexport const OpponentSquare = styled(RegularSquare)`\n  :hover {\n    background: #00ff41;\n    opacity: 0.5;\n  }\n`;\n\nexport const MissHit = styled(StandardPixel)`\n  border: 0.1vw solid #00ff41;\n  background: #00ff41;\n  opacity: 0.3;\n  animation: ${(props) =>\n    props.isAnimated\n      ? css`\n          ${flashAnimation} 2s;\n        `\n      : \"\"};\n`;\n\nexport const AroundSink = styled(StandardPixel)`\n  border: 0.1vw solid #00ff41;\n  background: red;\n  opacity: 0.3;\n`;\n\nexport const ShipHit = styled(StandardPixel)`\n  border: 0.1vw solid lightblue;\n  background: rgba(255, 153, 153, 0.5);\n  color: red;\n  font-size: 4vw;\n  animation: ${(props) =>\n    props.isAnimated\n      ? css`\n          ${flashAnimation} 2s;\n        `\n      : \"\"};\n`;\n\nexport const ShipSink = styled(StandardPixel)`\n  background: #008f11;\n  border: 0.1vw solid #00ff41;\n  animation: ${(props) =>\n    props.isAnimated\n      ? css`\n          ${flashAnimation} 2s;\n        `\n      : \"\"};\n`;\n\nexport const ShipPart = styled(StandardPixel)`\n  border: 0.1vw solid blue;\n  background: rgba(0, 0, 255, 0.6);\n`;\n\n// UserGrid + OpponentGrid components:\n\nexport const GridWrapper = styled.div`\n  border: none;\n  height: 100%;\n  width: 100%;\n  color: white;\n  display: grid;\n  justify-content: center;\n  grid-template-areas:\n    \"header header\"\n    \"progressBar progressBar\"\n    \"emptyPixel lettersBar\"\n    \"numbersBar grid\";\n  @media only screen and (max-width: 600px) {\n    padding-top: 5vw;\n    zoom: 125%;\n  }\n`;\n\nexport const PlayerGrid = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  height: 40vw;\n  width: 40vw;\n  color: #003b00;\n  grid-area: grid;\n  @media only screen and (max-width: 600px) {\n    height: 50vw;\n    width: 50vw;\n  }\n  opacity: ${({ lockOtherPlayerBoard }) =>\n    lockOtherPlayerBoard ? \"0.3\" : \"1\"};\n`;\n\nexport const OtherPlayerGrid = styled(PlayerGrid)`\n  cursor: ${({ lockOtherPlayerBoard }) =>\n    lockOtherPlayerBoard ? \"not-allowed\" : \"pointer\"};\n  opacity: ${({ lockOtherPlayerBoard }) =>\n    lockOtherPlayerBoard ? \"0.3\" : \"1\"};\n`;\n\nexport const GridHeaders = styled.span`\n  text-align: center;\n  font-size: 2.5vw;\n\n  grid-area: header;\n`;\n\nexport const LittleWrapper = styled.div`\n  ${flex()};\n  width: 100%;\n  padding-top: 2%;\n  padding-bottom: 5%;\n\n  grid-area: progressBar;\n`;\n\nexport const LettersBar = styled.div`\n  ${flex(false, false)};\n  width: 40vw;\n  margin-bottom: -1vw;\n\n  grid-area: lettersBar;\n  font-size: 3vw;\n  @media only screen and (max-width: 600px) {\n    width: 50vw;\n  }\n`;\n\nexport const NumbersBar = styled.div`\n  ${flex(\"center\", false)};\n  flex-direction: column;\n  height: 40vw;\n  font-size: 3vw;\n  margin-right: 0.5vw;\n\n  grid-area: numbersBar;\n  @media only screen and (max-width: 600px) {\n    height: 50vw;\n  }\n`;\n\nexport const BarPixel = styled(StandardPixel)``;\n\nexport const PlaceFiller = styled(StandardPixel)`\n  grid-area: emptyPixel;\n`;\n","import React, { useContext, useRef } from \"react\";\nimport { BsContext } from \"../stateManager/stateManager\";\nimport { Button } from \"../styles/GlobalStyles\";\nimport styled from \"styled-components\";\nimport { flex, position } from \"../styles/Mixins\";\n\nconst Modal = () => {\n  const { setShowModal } = useContext(BsContext);\n\n  // hide the modal and reload the page\n  const okButton = () => {\n    setShowModal(false);\n    location.href = window.location.origin;\n  };\n  const okRef = useRef(null);\n  setTimeout(() => {\n    okRef.current.focus();\n  }, 500);\n  return (\n    <ModalWrapper>\n      <Dialog>\n        <span style={{ fontSize: \"3.5vw\" }}>\n          Your opponent just leaved the game.\n        </span>\n        <br />\n        <Button ref={okRef} onClick={() => okButton()}>\n          OK\n        </Button>\n      </Dialog>\n    </ModalWrapper>\n  );\n};\n\nexport default Modal;\n\nconst ModalWrapper = styled.div`\n  ${flex()};\n  ${position(\"fixed\", \"0\", false, \"0\", false)};\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1000;\n  @media only screen and (max-width: 600px) {\n    width: 100%;\n    top: -20vw;\n    right: 6.5vw;\n    background: black;\n    height: 120%;\n  }\n`;\n\nconst Dialog = styled.div`\n  ${flex()};\n  flex-direction: column;\n  height: 30vw;\n  width: 60vw;\n  background: grey;\n`;\n","export default \"data:image/jpeg;base64,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\"","import React, { useEffect, useState, useContext } from \"react\";\nimport { BsContext, playSound } from \"../stateManager/stateManager\";\nimport Modal from \"./MsgModal\";\nimport logo from \"../assests/images/logo.jpg\";\nimport styled, { keyframes } from \"styled-components\";\nimport { flex, position } from \"../styles/Mixins\";\nimport { flash } from \"react-animations\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { HiVolumeOff, HiVolumeUp } from \"react-icons/hi\";\n\nconst flashAnimation = keyframes`${flash}`;\n\nconst TopBar = () => {\n  const {\n    bothPlayersReady,\n    showModal,\n    gameOverMsg,\n    isGameStarted,\n    usersCounter,\n    isMyTurn,\n    playSounds,\n    setPlaySounds,\n  } = useContext(BsContext);\n  useEffect(() => {\n    if (isGameStarted) {\n      if (isMyTurn) {\n        setTimeout(() => {\n          window.navigator.vibrate(200);\n          playSound(\"YOURTURN\", playSounds);\n        }, 1000);\n      } else {\n        setTimeout(() => {\n          playSound(\"NOTYOURTURN\", playSounds);\n        }, 1000);\n      }\n    }\n  }, [isMyTurn]);\n  return (\n    <TopBarWrapper>\n      {isGameStarted ? (\n        <SoundsToggle onClick={() => setPlaySounds(!playSounds)}>\n          {playSounds ? <HiVolumeUp /> : <HiVolumeOff />}\n        </SoundsToggle>\n      ) : (\n        \" \"\n      )}\n      <LogoWrapper>\n        <Logo\n          src={logo}\n          alt={\"logo\"}\n          onClick={() => (location.href = window.location.origin)}\n        />\n      </LogoWrapper>\n      <TopBarHeader>\n        {usersCounter} {usersCounter > 1 ? \"Players\" : \"Player\"} Online\n      </TopBarHeader>\n      {bothPlayersReady && !gameOverMsg ? (\n        <TurnHolder isMyTurn={isMyTurn}>\n          {isMyTurn ? (\n            <TurnText>\n              <Flash>Its Your Turn!</Flash>\n            </TurnText>\n          ) : (\n            <TurnText>\n              Opponent Turn\n              <Loader\n                style={{\n                  paddingLeft: \"0.5vw\",\n                  position: \"relative\",\n                  top: \"1.1vw\",\n                }}\n                type=\"ThreeDots\"\n                color=\"white\"\n                height={\"4vw\"}\n                width={\"4vw\"}\n              />{\" \"}\n            </TurnText>\n          )}\n        </TurnHolder>\n      ) : (\n        \" \"\n      )}\n      {showModal && !gameOverMsg ? <Modal /> : \" \"}\n    </TopBarWrapper>\n  );\n};\n\nexport default TopBar;\n\nconst TopBarWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  align-content: center;\n  color: white;\n  height: 13vw;\n  margin-bottom: -8vw;\n\n  @media only screen and (min-width: 600px) {\n    width: 130vw;\n    margin-bottom: 0;\n  }\n`;\nconst LogoWrapper = styled.div`\n  width: 100%;\n`;\n\nconst Logo = styled.img`\n  height: 10vw;\n  cursor: pointer;\n`;\n\nconst TopBarHeader = styled.span`\n  font-size: 2.5vw;\n  width: 100%;\n  margin-top: -4vw;\n  margin-left: 1.5vw;\n`;\n\nconst TurnHolder = styled.div`\n  ${flex(false, \"center\")};\n  width: 100%;\n\n  @media only screen and (max-width: 600px) {\n    margin: 3vw;\n    padding-left: 2vw;\n    background: ${(props) => (!props.isMyTurn ? \"red\" : \"blue\")};\n    display: flex;\n    align-items: center;\n  }\n`;\n\nconst TurnText = styled.div`\n  ${flex(false, false)};\n  font-size: 4vw;\n  align-items: center;\n`;\n\nconst Flash = styled.h1`\n  animation: 3s ${flashAnimation};\n  animation-iteration-count: infinite;\n  font-size: 4vw;\n`;\n\nconst SoundsToggle = styled.h1`\n  position: absolute;\n  top: 4vw;\n  right: 4vw;\n  z-index: 3000;\n  cursor: pointer;\n  @media only screen and (max-width: 600px) {\n    font-size: 4vw;\n    right: 4vw;\n  }\n`;\n","import React, { useContext } from \"react\";\nimport { BsContext } from \"../stateManager/stateManager\";\nimport styled, { keyframes } from \"styled-components\";\nimport { fadeOut } from \"react-animations\";\nimport { flex, position } from \"../styles/Mixins\";\n\nconst FadeoutStatus = () => {\n  const {\n    noteStatus,\n    mouseX,\n    mouseY,\n    gameOverMsg\n  } = useContext(BsContext);\n  if (gameOverMsg) return \"\";\n  return (\n    <StatusBox mouseX={mouseX + 350} mouseY={mouseY + 100}>\n      {\" \"}\n      <Animated>{noteStatus}</Animated>\n    </StatusBox>\n  );\n};\n\nexport default FadeoutStatus;\n\nconst fadeoutAnimation = keyframes`${fadeOut}`;\nconst StatusBox = styled.div`\n  ${flex()};\n  align-self: start;\n  position: absolute;\n  font-size: 2rem;\n  z-index: 2000000;\n  top: ${(props) => props.mouseY}px;\n  left: ${(props) => props.mouseX}px;\n`;\n\nconst Animated = styled.h1`\n  ${flex(false, false)};\n  align-content: center;\n  animation: 3s ${fadeoutAnimation};\n  font-size: 2rem;\n`;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { BsContext, playSound } from \"../stateManager/stateManager\";\nimport { MdContentCopy } from \"react-icons/md\";\nimport { flash, __esModule } from \"react-animations\";\nimport { Button } from \"../styles/GlobalStyles\";\nimport { nanoid } from \"nanoid\";\nimport FadeoutStatus from \"./FadeoutStatus\";\nimport { useHistory } from \"react-router-dom\";\nimport styled, { keyframes } from \"styled-components\";\nimport { flex, position, cool_shining_green } from \"../styles/Mixins\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport {\n  FacebookShareButton,\n  FacebookMessengerShareButton,\n  WhatsappShareButton,\n} from \"react-share\";\nimport { FacebookIcon, FacebookMessengerIcon, WhatsappIcon } from \"react-share\";\n\nconst flashAnimation = keyframes`${flash}`;\nconst startGame = (props) => {\n  const {\n    setIsConnected,\n    setPlayerRoom,\n    setShowReadyBox,\n    setShowStartButton,\n  } = useContext(BsContext);\n  let { gameId } = props.match.params;\n  setShowReadyBox(true);\n  setIsConnected(true);\n  setPlayerRoom(gameId);\n  setShowStartButton(false);\n\n  return <h1></h1>;\n};\nconst Input = () => {\n  const {\n    playerRoom,\n    setShowStartButton,\n    showStartButton,\n    bothPlayersConnected,\n    otherPlayerShips,\n    isPlayerReady,\n    setIsPlayerReady,\n    bothPlayersReady,\n    lockOtherPlayerBoard,\n    setRandomBoard,\n    randomBoard,\n    gameStatus,\n    setGameStatus,\n    winning,\n    noteStatus,\n    setNoteStatus,\n    gameOverMsg,\n    showReadyBox,\n    setShowReadyBox,\n    setBothPlayersReady,\n    isGameStarted,\n    setIsGameStarted,\n    setPlayAgain,\n    isLeave,\n    setMouseX,\n    setMouseY,\n    setGameOverMsg,\n    playSounds,\n    playAgainMsg,\n  } = useContext(BsContext);\n  const history = useHistory();\n  // local states:\n  const [roomId, setRoomId] = useState(null);\n\n  //\n  const [waiting, setWaiting] = useState(false);\n\n  useEffect(() => {\n    setRoomId(nanoid(4));\n  }, []);\n\n  // copy the room ID so the player wont need to do in manually\n  const copyId = () => {\n    playSound(\"click\", playSounds);\n    setMouseX(event.screenX);\n    setMouseY(event.screenY);\n    navigator.clipboard\n      .writeText(`${window.location.origin}/${roomId}`)\n      .then(function () {\n        setNoteStatus(\"Id copied to clipboard!\");\n      });\n    event.preventDefault();\n  };\n\n  // nullify the note after every use\n  useEffect(() => {\n    setTimeout(() => {\n      setNoteStatus(\"\");\n    }, 2000);\n  }, [noteStatus]);\n\n  // connect the player to the room\n  const startClick = () => {\n    playSound(\"click\", playSounds);\n    history.push(roomId);\n  };\n\n  // ready to play\n  const readyButton = () => {\n    playSound(\"click\", playSounds);\n    setIsPlayerReady(true);\n    setShowReadyBox(false);\n  };\n\n  // set the board randomly\n  const randomBoardClick = () => {\n    playSound(\"click\", playSounds);\n    setRandomBoard(!randomBoard);\n  };\n\n  // set the game status message\n  useEffect(() => {\n    if (otherPlayerShips && !isPlayerReady) {\n      setGameStatus(\"Your opponent is ready!\");\n      setWaiting(false);\n      return false;\n    }\n    if (setShowStartButton) {\n      setGameStatus(\n        \"Please copy the room ID and send it to your friend, Then press start.\"\n      );\n    }\n    if (isPlayerReady && !otherPlayerShips) {\n      setGameStatus(\"Waiting for your opponent to be ready...\");\n      setShowReadyBox(false);\n      setWaiting(true);\n      return false;\n    }\n    if (showReadyBox && !bothPlayersConnected) {\n      setGameStatus(\n        \"You are connected! Waiting for another player to connect...\"\n      );\n      setWaiting(true);\n    }\n    if (isPlayerReady && otherPlayerShips) {\n      setWaiting(false);\n      setGameStatus(\"You are good to go! Good luck!\");\n      setShowReadyBox(false);\n      setTimeout(() => {\n        setIsGameStarted(true);\n        setBothPlayersReady(true);\n      }, 2000);\n      return false;\n    }\n    if (!lockOtherPlayerBoard && isGameStarted) {\n      setGameStatus(\"Its your turn\");\n    } else if (lockOtherPlayerBoard && isGameStarted) {\n      setGameStatus(\"\");\n    } else if (showReadyBox && bothPlayersConnected) {\n      setGameStatus(\n        \"You are both connected! Please set your board. then press ready.\"\n      );\n    }\n  }, [\n    setShowStartButton,\n    showReadyBox,\n    bothPlayersConnected,\n    isPlayerReady,\n    otherPlayerShips,\n    bothPlayersReady,\n    lockOtherPlayerBoard,\n  ]);\n\n  // set the game over message according to the player status (winning / losing)\n  useEffect(() => {\n    if (winning != null) {\n      setGameOverMsg(winning ? \"YOU WON!!!\" : \"you lose\");\n    }\n    // if (winning === true) { setGameOverMsg(\"YOU WON!!!\") }\n    // else if (winning === false) { setGameOverMsg(\"you lose\") }\n  }, [winning]);\n\n  // render the suitable buttons and inputs according to the player choices\n  const renderDecideder = () => {\n    if (showStartButton) {\n      return (\n        <>\n          <UrlHolder>\n            <CopyButton onClick={() => copyId()}>\n              {\" \"}\n              {<MdContentCopy />}{\" \"}\n            </CopyButton>\n            {window.location.origin}/{roomId}\n          </UrlHolder>\n          <ButtonsWrapper>\n            <Button style={{ width: \"4.5vw\", height: \"4.5vw\" }}>\n              <FacebookShareButton url={`${window.location.origin}/${roomId}`}>\n                <FacebookIcon\n                  size={\"5vw\"}\n                  round={true}\n                  style={{ marginTop: \"0.7vw\" }}\n                />\n              </FacebookShareButton>\n            </Button>\n            &nbsp; &nbsp;\n            <Button style={{ width: \"4.5vw\", height: \"4.5vw\" }}>\n              <FacebookMessengerShareButton\n                url={`${window.location.origin}/${roomId}`}\n              >\n                <FacebookMessengerIcon\n                  size={\"5vw\"}\n                  round={true}\n                  style={{ marginTop: \"0.7vw\" }}\n                />\n              </FacebookMessengerShareButton>\n            </Button>\n            &nbsp; &nbsp;\n            <Button style={{ width: \"4.5vw\", height: \"4.5vw\" }}>\n              <WhatsappShareButton url={`${window.location.origin}/${roomId}`}>\n                <WhatsappIcon\n                  size={\"5vw\"}\n                  round={true}\n                  style={{ marginTop: \"0.7vw\" }}\n                />\n              </WhatsappShareButton>\n            </Button>\n          </ButtonsWrapper>\n          <Button onClick={() => startClick()}>Start</Button>\n        </>\n      );\n    } else if (showReadyBox && bothPlayersConnected) {\n      return (\n        <>\n          <Button onClick={() => readyButton()}>\n            <Flash>Ready</Flash>\n          </Button>\n          <Button onClick={randomBoardClick}>Random</Button>\n        </>\n      );\n    }\n  };\n  const newGame = () => {\n    playSound(\"click\", playSounds);\n    location.href = location.origin;\n  };\n  const playAgainFunc = () => {\n    if (!isLeave) {\n      playSound(\"click\", playSounds);\n      setPlayAgain(true);\n      location.reload();\n    } else {\n      playSound(\"ERROR\", playSounds);\n    }\n  };\n  return (\n    <>\n      <FadeoutStatus />\n      <InputWrapper\n        connected={playerRoom}\n        bothPlayersConnected={bothPlayersConnected}\n        gameOverMsg={gameOverMsg}\n        isGameStarted={isGameStarted}\n        showReadyBox={showReadyBox}\n      >\n        {!gameOverMsg ? (\n          <MiniWrapper bothPlayersConnected={bothPlayersConnected}>\n            <StaticStatus>\n              {gameStatus}\n              {waiting ? (\n                <Loader\n                  type=\"Grid\"\n                  color=\"white\"\n                  height={\"5vw\"}\n                  width={\"5vw\"}\n                  style={{ margin: \"1vw\" }}\n                />\n              ) : (\n                \" \"\n              )}\n            </StaticStatus>\n            {renderDecideder()}\n          </MiniWrapper>\n        ) : (\n          <GameOver>\n            {gameOverMsg}\n            <Button onClick={newGame}>New Game!</Button>\n            <PlayAgainButton error={isLeave} onClick={() => playAgainFunc()}>\n              {playAgainMsg ? <Flash>Play Again!</Flash> : \"Play Again!\"}\n            </PlayAgainButton>\n          </GameOver>\n        )}\n      </InputWrapper>\n      <Switch>\n        <Route path=\"/:gameId\" component={startGame} />\n      </Switch>\n    </>\n  );\n};\nexport default Input;\n\nconst InputWrapper = styled.div`\n  ${({ isGameStarted, gameOverMsg, isConnected }) =>\n    isGameStarted && !gameOverMsg\n      ? \"display: none\"\n      : isConnected\n      ? flex(\"center\", false)\n      : flex()};\n  position: absolute;\n  top: 12vw;\n  right: 3vw;\n  z-index: 100;\n  height: 60vw;\n  width: 125vw;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.8);\n  ${({ showReadyBox, bothPlayersConnected }) =>\n    showReadyBox && bothPlayersConnected\n      ? \"background: black; right: 0vw; width: 50%;\"\n      : \" \"}\n  @media only screen and (max-width: 600px) {\n    width: 100%;\n    background: rgba(0, 0, 0, 0.8);\n    opacity: 1;\n    height: 90%;\n    margin-top: 6vw;\n    left: 0;\n    ${({ bothPlayersConnected }) =>\n      bothPlayersConnected\n        ? `width: 80vw; top: 7vw; margin-left: -19vw;`\n        : \" \"};\n  }\n`;\n\nconst MiniWrapper = styled.form`\n  display: flex;\n  flex-direction: column;\n  ${cool_shining_green};\n  border: 3px solid #00ff3c;\n  -webkit-box-shadow: 2px 3px 16px 5px rgba(0, 255, 65, 0.75);\n  box-shadow: 2px 3px 16px 5px rgba(0, 255, 65, 0.75);\n  border-radius: 2vw;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 100;\n  background: black;\n  align-content: center;\n  padding: 2%;\n  @media only screen and (max-width: 600px) {\n    width: 50vw;\n    height: 50vw;\n    margin-left: 4vw;\n    ${({ bothPlayersConnected }) =>\n      bothPlayersConnected ? `position: absolute; left: 4vw; top: 8vw;` : \" \"};\n  }\n`;\n\nconst CopyButton = styled.button`\n  font-size: 100%;\n  ${position(\"relative\", false, false, false, \"95%\")};\n\n  &:hover {\n    ${cool_shining_green};\n    background: #1aff1a;\n    color: black;\n  }\n`;\n\nconst UrlHolder = styled.div`\n  padding: 1vw;\n  margin: 1vw;\n  height: 4vw;\n  width: 100%;\n  outline: none;\n  border-radius: 4rem;\n  border: white 1px solid;\n  transition: border 0.5s;\n  font-size: 1.5vw;\n  z-index: 1;\n  align-items: center;\n  display: flex;\n`;\nconst Flash = styled.h1`\n  animation: 1s ${flashAnimation};\n  animation-iteration-count: infinite;\n  font-size: 2.5vw;\n`;\n\nconst StaticStatus = styled.h1`\n  font-size: 100%;\n  text-align: center;\n  color: white;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  font-size: 3vw;\n  width: 40vw;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst GameOver = styled.div`\n  width: 125vw;\n  height: 55vw;\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: bold;\n  background: rgba(0, 0, 0, 0.8);\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  font-size: 20vw;\n  flex-direction: column;\n  margin: 0;\n  @media only screen and (max-width: 600px) {\n    font-size: 10vw;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 68vw;\n    left: 18vw;\n    height: 120%;\n    top: -15vw;\n    background: black;\n  }\n`;\n\nconst ButtonsWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n`;\nconst PlayAgainButton = styled(Button)`\n  margin-top: -0.5vw;\n  background: ${(props) => (props.error ? \"grey\" : \" \")};\n  cursor: ${(props) => (props.error ? \"not-allowed\" : \"pointer\")};\n  border: ${(props) => (props.error ? \"none\" : \" \")};\n  &:hover {\n    color: ${(props) => (props.error ? \"white\" : \"black\")};\n    background: ${(props) => (props.error ? \"grey\" : \" \")};\n    border: ${(props) => (props.error ? \"none\" : \" \")};\n    box-shadow: ${(props) =>\n      props.error ? \"inset 0 0.1rem 1.5rem lightgrey\" : \" \"};\n  }\n  @media only screen and (max-width: 600px) {\n    height: 5.5vw;\n    width: 20vw;\n  }\n`;\n","import React, { useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport {\n  RegularSquare,\n  MissHit,\n  ShipHit,\n  ShipSink,\n  AroundSink,\n  ShipPart,\n} from \"../styles/GlobalStyles\";\nimport {\n  SEA,\n  MISS,\n  HIT,\n  SINK,\n  AROUND_SINK,\n  SHIP_PART,\n  BsContext,\n} from \"../stateManager/stateManager\";\nimport \"../styles/OnceAnimation.css\";\nimport { playSound } from \"../stateManager/stateManager\";\nconst UserPixel = ({ status, lock }) => {\n  const [isAnimated, setIsAnimated] = useState(true);\n  const [alreadyPlayed, setAlreadyPlayed] = useState(false);\n  const { playSounds } = useContext(BsContext);\n  if (status === SEA) {\n    return <RegularSquare />;\n  } else if (status === MISS) {\n    if (isAnimated) {\n      if (!alreadyPlayed) {\n        playSound(MISS, playSounds);\n        setAlreadyPlayed(true);\n      }\n      setTimeout(() => {\n        setIsAnimated(false);\n      }, 3000);\n    }\n    return <MissHit isAnimated={isAnimated}></MissHit>;\n  } else if (status === HIT) {\n    if (isAnimated) {\n      if (!alreadyPlayed) {\n        playSound(HIT, playSounds);\n        setAlreadyPlayed(true);\n      }\n      setTimeout(() => {\n        setIsAnimated(false);\n      }, 3000);\n    }\n    return <ShipHit isAnimated={isAnimated}>X</ShipHit>;\n  } else if (status === SINK) {\n    if (isAnimated) {\n      if (!alreadyPlayed) {\n        playSound(SINK, playSounds);\n        setAlreadyPlayed(true);\n      }\n      setTimeout(() => {\n        setIsAnimated(false);\n      }, 3000);\n    }\n    return <ShipSink isAnimated={isAnimated}></ShipSink>;\n  } else if (status === AROUND_SINK) {\n    if (isAnimated) {\n      setTimeout(() => {\n        setIsAnimated(false);\n      }, 3000);\n    }\n    return <AroundSink isAnimated={isAnimated}></AroundSink>;\n  } else if (status === SHIP_PART) {\n    return <ShipPart is_lock={lock}></ShipPart>;\n  }\n};\n\nexport default UserPixel;\n\n// *** when adding the reordering of the player ships before ready, switch \"ShipPart\" with \"PlayerShipPart\" (Not implemented yet)\nconst PlayerShipPart = styled(ShipPart)`\n  cursor: ${({ lock }) => (lock ? \"none\" : \"move\")};\n`;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { BsContext } from \"../stateManager/stateManager\";\nimport { hitBoardUpdate, missBoardUpdate } from \"../logic/logic\";\nimport { SINK, SHIP_PART, HIT, MISS } from \"../stateManager/stateManager\";\nimport UserPixel from \"./UserPixel\";\nimport {\n  GridWrapper,\n  PlayerGrid,\n  GridHeaders,\n  LittleWrapper,\n  LettersBar,\n  NumbersBar,\n  BarPixel,\n} from \"../styles/GlobalStyles\";\nimport ProgressBar from \"@ramonak/react-progress-bar\";\n\nconst UserGrid = () => {\n  const {\n    playerBoard,\n    setPlayerBoard,\n    playerShips,\n    isPlayerReady,\n    userPrecents,\n    setUserPrecents,\n    otherPlayerGuess,\n    bothPlayersConnected,\n    lockOtherPlayerBoard,\n    bothPlayersReady,\n    isMyTurn,\n  } = useContext(BsContext);\n\n  // *** for reordering ships functionality (Not implemented yet)\n  const [lockShipsPosition, setLockShipsPosition] = useState(false);\n\n  // *** lock the user's ship when ready after reordering (Not implemented yet)\n  useEffect(() => {\n    setLockShipsPosition(true);\n  }, [isPlayerReady]);\n\n  // *** we are reusing this pure function in OpponentGrid - worth moving to Logic.\n  // return the player's guess result (hit, miss...)\n  const pixelStatus = (x, y, board, ships) => {\n    const pixel = board[x][y];\n    if (ships && pixel.value === SHIP_PART) {\n      return ships[pixel.shipIndex].isSunk\n        ? SINK\n        : pixel.isHit\n        ? HIT\n        : pixel.value;\n    }\n    return pixel.value;\n  };\n\n  // updating the player's board according to the other player's guess\n  useEffect(() => {\n    if (otherPlayerGuess) {\n      const { result, x, y } = otherPlayerGuess;\n      let updated;\n      if (result === MISS) {\n        updated = missBoardUpdate(playerBoard, x, y);\n        setPlayerBoard(updated);\n      } else if (result === HIT) {\n        setUserPrecents(userPrecents + 1);\n        updated = hitBoardUpdate(\n          x,\n          y,\n          playerBoard[x][y].shipIndex,\n          playerBoard,\n          playerShips\n        );\n        // *** need checking out\n        setPlayerBoard(updated.board);\n      }\n    }\n  }, [otherPlayerGuess]);\n\n  return (\n    <UserGridWrapper\n      bothPlayersConnected={bothPlayersConnected}\n      lockOtherPlayerBoard={lockOtherPlayerBoard}\n      bothPlayersReady={bothPlayersReady}\n      isPlayerReady={isPlayerReady}\n      isMyTurn={isMyTurn}\n    >\n      <GridHeaders>Your Board</GridHeaders>\n      <LittleWrapper>\n        <ProgressBar\n          bgcolor=\"#00FF41\"\n          labelColor=\"grey\"\n          completed={userPrecents * 5 || 0}\n          width={\"30vw\"}\n          height={\"2vw\"}\n          labelSize={\"2vw\"}\n        />\n      </LittleWrapper>\n      <NumbersBar>\n        {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((num, i) => (\n          <BarPixel key={i}>{num}</BarPixel>\n        ))}\n      </NumbersBar>\n      <LettersBar>\n        {[\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"].map((letter, i) => (\n          <BarPixel key={i}>{letter}</BarPixel>\n        ))}\n      </LettersBar>\n      <PlayerGrid>\n        {playerBoard.map((xArr, Xindex, board) =>\n          xArr.map((yArr, Yindex) => (\n            <UserPixel\n              lock={lockShipsPosition} // *** for the ship reordering function (Not implemented yet)\n              key={`g${Yindex}`}\n              status={pixelStatus(Xindex, Yindex, board, playerShips)}\n            ></UserPixel>\n          ))\n        )}\n      </PlayerGrid>\n    </UserGridWrapper>\n  );\n};\n\nexport default UserGrid;\n\nconst UserGridWrapper = styled(GridWrapper)`\n  @media only screen and (max-width: 600px) {\n    ${(props) =>\n      !props.lockOtherPlayerBoard ? `display: none;` : `display: grid`};\n    ${({ bothPlayersConnected, bothPlayersReady }) =>\n      bothPlayersConnected && !bothPlayersReady\n        ? `position: absolute; top: 50vw`\n        : \" \"}\n  }\n`;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport {\n  OpponentSquare,\n  MissHit,\n  ShipHit,\n  ShipSink,\n  AroundSink,\n  ShipPart,\n} from \"../styles/GlobalStyles\";\nimport {\n  SEA,\n  MISS,\n  HIT,\n  SINK,\n  AROUND_SINK,\n  SHIP_PART,\n  BsContext,\n} from \"../stateManager/stateManager\";\nimport \"../styles/OnceAnimation.css\";\nimport { playSound } from \"../stateManager/stateManager\";\nimport { FaTruckMonster } from \"react-icons/fa\";\n\nconst dev = false; // necessary only for dev - let you see the opponent ship\n\n// checking the pixel status when clicking and render a new one (depends on the pixel status)\nconst OpponentPixel = ({ status, x, y, clickhandler, lock }) => {\n  const [isAnimated, setIsAnimated] = useState(true);\n  const { playSounds } = useContext(BsContext);\n  const [alreadyPlayed, setAlreadyPlayed] = useState(false);\n  if (status === SEA) {\n    return (\n      <OpponentSquare\n        lock={true}\n        onClick={() => clickhandler(x, y, lock)}\n      ></OpponentSquare>\n    );\n  } else if (status === MISS) {\n    if (isAnimated) {\n      if (!alreadyPlayed) {\n        playSound(MISS, playSounds);\n        setAlreadyPlayed(true);\n      }\n      setTimeout(() => {\n        setIsAnimated(false);\n      }, 3000);\n    }\n    return (\n      <MissHit\n        isAnimated={isAnimated}\n        lock={lock}\n        onClick={() => clickhandler(x, y, lock)}\n      >\n        \n      </MissHit>\n    );\n  } else if (status === HIT) {\n    if (isAnimated) {\n      if (!alreadyPlayed) {\n        playSound(HIT, playSounds);\n        setAlreadyPlayed(true);\n      }\n      setTimeout(() => {\n        setIsAnimated(false);\n      }, 3000);\n    }\n    return (\n      <ShipHit\n        isAnimated={isAnimated}\n        lock={lock}\n        onClick={() => clickhandler(x, y, lock)}\n      >\n        X\n      </ShipHit>\n    );\n  } else if (status === SINK) {\n    if (isAnimated) {\n      if (!alreadyPlayed) {\n        playSound(SINK, playSounds);\n        setAlreadyPlayed(true);\n      }\n      setTimeout(() => {\n        setIsAnimated(false);\n      }, 3000);\n    }\n    return <ShipSink isAnimated={isAnimated} lock={lock}></ShipSink>;\n  } else if (status === AROUND_SINK) {\n    if (isAnimated) {\n      setTimeout(() => {\n        setIsAnimated(false);\n      }, 3000);\n    }\n    return (\n      <AroundSink isAnimated={isAnimated} lock={lock}>\n        \n      </AroundSink>\n    );\n  } else if (status === SHIP_PART) {\n    //\n    if (dev)\n      return (\n        <ShipPart\n          lock={true}\n          onClick={() => clickhandler(x, y, lock)}\n        ></ShipPart>\n      );\n    // dev tool\n    //\n    else\n      return (\n        <OpponentSquare\n          lock={true}\n          onClick={() => clickhandler(x, y, lock)}\n        ></OpponentSquare>\n      );\n  }\n};\n\nexport default OpponentPixel;\n","import React, { useContext, useEffect, useState, useRef } from \"react\";\nimport { BsContext, playSound } from \"../stateManager/stateManager\";\nimport styled, { keyframes } from \"styled-components\";\nimport { inspectHit, hitBoardUpdate, missBoardUpdate } from \"../logic/logic\";\nimport { SINK, SHIP_PART, HIT, MISS } from \"../stateManager/stateManager\";\nimport OpponentPixel from \"./OpponentPixel\";\nimport {\n  GridWrapper,\n  OtherPlayerGrid,\n  GridHeaders,\n  LittleWrapper,\n  LettersBar,\n  NumbersBar,\n  BarPixel,\n} from \"../styles/GlobalStyles\";\nimport ProgressBar from \"@ramonak/react-progress-bar\";\nconst OpponentGrid = () => {\n  const {\n    otherPlayerBoard,\n    setOtherPlayerBoard,\n    otherPlayerShips,\n    isFirstTurn,\n    bothPlayersReady,\n    setNoteStatus,\n    opponentPrecents,\n    setOpponentPrecents,\n    setPlayerGuess,\n    otherPlayerGuess,\n    lockOtherPlayerBoard,\n    setLockOtherPlayerBoard,\n    setWinning,\n    setMouseX,\n    setMouseY,\n    isGameStarted,\n    isMyTurn,\n    setIsMyTurn,\n    playSounds,\n  } = useContext(BsContext);\n  const [lockedPixels, setLockedPixels] = useState([]);\n  const isItemLocked = (x, y) => {\n    if (!lockedPixels) return false;\n    for (let item of lockedPixels) {\n      if (item.x === x && item.y === y) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  // unlock the board of the first player.\n  useEffect(() => {\n    if (isFirstTurn) {\n      setLockOtherPlayerBoard(false);\n      setIsMyTurn(true);\n    } else {\n      setLockOtherPlayerBoard(true);\n      setIsMyTurn(false);\n    }\n  }, [bothPlayersReady]);\n\n  // unlock the players board if the other player missed.\n  useEffect(() => {\n    if (otherPlayerGuess) {\n      const { result } = otherPlayerGuess;\n      if (result === MISS) {\n        setIsMyTurn(true);\n        setTimeout(() => {\n          setLockOtherPlayerBoard(false);\n        }, 1000);\n      }\n    }\n  }, [otherPlayerGuess]);\n\n  // *** we are reusing this pure function in UserGrid - worth moving to Logic.\n  // return the player's guess result (hit, miss...)\n  const pixelStatus = (x, y, board, ships) => {\n    const pixel = board[x][y];\n    if (ships && pixel.value === SHIP_PART) {\n      return ships[pixel.shipIndex].isSunk\n        ? SINK\n        : pixel.isHit\n        ? HIT\n        : pixel.value;\n    }\n    return pixel.value;\n  };\n\n  // checking the guess's result and emit it to the other player\n  // in the same time updating the player's opponent board and lock it\n  // afterwards lock the used pixel\n  const onClick = (x, y) => {\n    setMouseX(event.screenX);\n    setMouseY(event.screenY);\n    let updated;\n    if (!isMyTurn) {\n      setNoteStatus(\"Its not your turn!\");\n    } else {\n      if (!isItemLocked(x, y)) {\n        const result = inspectHit(otherPlayerBoard, x, y);\n        setPlayerGuess({ x, y, result });\n        if (result === MISS) {\n          updated = missBoardUpdate(otherPlayerBoard, x, y);\n          setOtherPlayerBoard(updated);\n          setIsMyTurn(false);\n          setTimeout(() => {\n            setLockOtherPlayerBoard(true);\n          }, 2000);\n          setTimeout(() => {\n            setNoteStatus(\"MISS\");\n          }, 100);\n        } else if (result === HIT) {\n          updated = hitBoardUpdate(\n            x,\n            y,\n            otherPlayerBoard[x][y].shipIndex,\n            otherPlayerBoard,\n            otherPlayerShips\n          );\n\n          if (updated.sunk) {\n            setNoteStatus(\"SINK!\");\n            // NOT WORKING!!\n          } else {\n            setNoteStatus(\"HIT!\");\n            setOpponentPrecents(opponentPrecents + 1);\n          }\n          if (updated.isWin) {\n            setWinning(true);\n            setTimeout(() => {\n              setLockOtherPlayerBoard(true);\n            }, 2000);\n          }\n        }\n        lockPixel(x, y);\n      } else {\n        playSound(\"ERROR\", playSounds);\n        setNoteStatus(\"Already clicked!\");\n      }\n    }\n    event.stopPropagation();\n  };\n\n  // lock a specific pixel\n  const lockPixel = (x, y) => {\n    let item = { x, y };\n    setLockedPixels([...lockedPixels, item]);\n  };\n\n  // save all the locked pixels in an array for later checking\n\n  return (\n    <OpponentGridWrapper\n      isMyTurn={!lockOtherPlayerBoard}\n      isGameStarted={isGameStarted}\n    >\n      <GridHeaders>Opponents Board</GridHeaders>\n      <LittleWrapper>\n        <ProgressBar\n          bgcolor=\"#00FF41\"\n          labelColor=\"grey\"\n          completed={opponentPrecents * 5 || 0}\n          width={\"30vw\"}\n          height={\"2vw\"}\n          labelSize={\"2vw\"}\n        />\n      </LittleWrapper>\n      <NumbersBar>\n        {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((num, i) => (\n          <BarPixel key={i}>{num}</BarPixel>\n        ))}\n      </NumbersBar>\n      <LettersBar>\n        {[\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"].map((letter, i) => (\n          <BarPixel key={i}>{letter}</BarPixel>\n        ))}\n      </LettersBar>\n      <OtherPlayerGrid lockOtherPlayerBoard={lockOtherPlayerBoard}>\n        {otherPlayerBoard.map((xArr, Xindex, board) =>\n          xArr.map((yArr, Yindex) => (\n            <OpponentPixel\n              isMyTurn={isMyTurn}\n              lock={isItemLocked(Xindex, Yindex)}\n              key={`g${Yindex}`}\n              status={pixelStatus(Xindex, Yindex, board, otherPlayerShips)}\n              x={Xindex}\n              y={Yindex}\n              clickhandler={onClick}\n            ></OpponentPixel>\n          ))\n        )}\n      </OtherPlayerGrid>\n    </OpponentGridWrapper>\n  );\n};\n\nexport default OpponentGrid;\n\nconst OpponentGridWrapper = styled(GridWrapper)`\n  @media only screen and (max-width: 600px) {\n    ${(props) => (props.isMyTurn ? `display: grid` : `display: none`)};\n  }\n`;\n","import React, { useContext } from \"react\";\nimport { BsContext } from \"../stateManager/stateManager\";\nimport Sockets from \"../sockets/socket-client-side\";\nimport TopBar from \"./TopBar\";\nimport Input from \"./Input\";\nimport UserGrid from \"./UserGrid\";\nimport OpponentGrid from \"./OpponentGrid\";\nimport { flex, position } from \"../styles/Mixins\";\nimport Confetti from \"react-confetti\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport styled from \"styled-components\";\nconst App = () => {\n  const {\n    winning,\n    lockOtherPlayerBoard,\n    bothPlayersConnected,\n    showReadyBox,\n    isGameStarted,\n    gameOverMsg,\n  } = useContext(BsContext);\n  var isSafari =\n    /constructor/i.test(window.HTMLElement) ||\n    (function (p) {\n      return p.toString() === \"[object SafariRemoteNotification]\";\n    })(\n      !window[\"safari\"] ||\n        (typeof safari !== \"undefined\" && window[\"safari\"].pushNotification)\n    );\n  if (isSafari)\n    return (\n      <>\n        <Box>\n          <span>Ooops...</span>\n          <br />\n          <br/>\n          Your browser not supported!\n          We recommend using Google Chrome\n        </Box>\n      </>\n    );\n  return (\n    <AppWrapper\n      isMyTurn={!lockOtherPlayerBoard}\n      isGameStarted={isGameStarted}\n      gameOverMsg={gameOverMsg}\n    >\n      <BrowserRouter>\n        {winning ? (\n          <Confetti width=\"2000vw\" height=\"1000vw\" style={{ zIndex: 1000 }} />\n        ) : (\n          \" \"\n        )}\n        <Sockets />\n        <TopBar />\n        <Input />\n        <GameWrapper isMyTurn={!lockOtherPlayerBoard}>\n          <UserGrid\n            bothPlayersConnected={bothPlayersConnected}\n            showReadyBox={showReadyBox}\n          />\n          <OpponentGrid />\n        </GameWrapper>\n      </BrowserRouter>\n    </AppWrapper>\n  );\n};\nexport default App;\n\nconst GameWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-direction: ${(props) => (props.isMyTurn ? \"column\" : \"column-reverse\")};\n  padding-top: 10vw;\n  @media only screen and (min-width: 600px) {\n    flex-direction: row;\n    padding-top: 0;\n  }\n`;\nconst AppWrapper = styled.div`\n  position: relative;\n  @media only screen and (max-width: 600px) {\n    margin: 1vw;\n    ${(props) =>\n      !props.isMyTurn && props.isGameStarted && !props.gameOverMsg\n        ? \"border: 2px solid red\"\n        : \" \"};\n    ${(props) =>\n      props.isMyTurn && props.isGameStarted && !props.gameOverMsg\n        ? `border: 2px solid blue`\n        : \" \"};\n    padding-right: 0vw;\n    padding-left: 0vw;\n    padding: 0.5vw;\n  }\n`;\nconst Box = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vw;\n  width: 100vw;\n  flex-direction: column;\n`;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./view/App\";\nimport { StateManager } from \"./stateManager/stateManager\";\nimport GlobalStyles from \"./styles/GlobalStyles\";\n\nconst rootElement = document.getElementById(\"root\");\n\nReactDOM.render(\n  <>\n    <StateManager>\n      <App />\n    </StateManager>\n    <GlobalStyles />\n  </>,\n  rootElement\n);\n"],"sourceRoot":""}